
===================
import configparser
import requests
import streamlit as st
from gui.generic_webpage import GenericWebPage
import datetime
import pandas as pd

class DataAnalysisPage(GenericWebPage):
    def __init__(self, config_file, session_state):
        super().__init__(config_file, session_state)

    def render_the_page(self):
        # Create two columns
        left_column, center_column, right_column = st.columns([1, 2, 2])

        # Add two containers to the left column

        with center_column:
            container_C1 = st.container()
            container_C2 = st.container()

        # Add two containers to the right column
        with right_column:
            container_R1 = st.container()
            container_R2 = st.container()
            
        with left_column:
            container_L1 = st.container()
            container_L2 = st.container()  
            with container_L1:
                st.markdown('<div style="background-color: #f4f4f4; padding: 10px;">Avaialble Data Dates</div>', unsafe_allow_html=True)
                #st.title('Avaialble Data Dates')
                st.write("This is some text inside the container.")
                st.write(self.session_state)
                dates = [datetime.date.today() + datetime.timedelta(days=x) for x in range(7)]
                selected_date = st.selectbox('Select a date:', dates)
                if st.button('Add date to session state'):
                    st.session_state.selected_date = selected_date  
                    self.write_data_frame_in_R2(container_R2)    

                if 'selected_date' in st.session_state:
                    st.write('Selected date:', st.session_state.selected_date)    
            


        # Add content to each container
        with container_C1:
            st.write("This is container C1 in the left column.")

        with container_C2:
            st.write("This is container C22 in the left column.")

        with container_R1:
            st.write("This is container C1 in the right column.")

        with container_R2:
            st.write("This is container C2 in the right column.")
            
        with container_L1:
            st.write("This is container L1 in the right column.")        

    def write_data_frame_in_R2(self, container_R2):
        with container_R2:
            df = pd.DataFrame({
            'Name': ['Alice', 'Bob', 'Charlie'],
            'Age': [25, 30, 35]
            })
            # Display the data frame
            st.write(df)
            st.write(st.session_state.selected_date)
                            